<!DOCTYPE HTML>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body class="lift:content_id=main">

<div ng-app id="main" class="lift:surround?with=default&at=content">
    <!--TODO-->
    <script src="/lib/d3.v2.js"></script>

    <h2>table</h2>
    http://christopheviau.com/d3_tutorial/

    <table>
        <thead>
        </thead>

        <tbody>
        </tbody>
    </table>

    <script type="text/javascript">
        (function () {
            var columns = ["col0", "col1"];
            var data = [
                {col0: "v0", col1: "v1"},
                {col0: "v0-1", col1: "v1-1"}
            ];
            d3.select("thead").append("tr")
                    .selectAll("th")
                    .data(columns)
                    .enter()
                    .append("th")
                    .text(function (column) {
                        return column;
                    });

            function update() {
                var rows = d3.select("tbody")
                        .selectAll("tr")
                        .data(data)
                        .enter()
                        .append("tr");

                var cells = rows.selectAll("td")
                        .data(function (row) {
                            return [row.col0, row.col1]
                        })
                        .enter()
                        .append("td")
                        .text(function (d) {
                            return d;
                        });
            }

            var i = 0;
            setInterval(function () {
                data.push({col0: i + " col0", col1: i + " col1"});
                i += 1;
                update();
            }, 1000);
        })();
    </script>


</div>

</body>
</html>


